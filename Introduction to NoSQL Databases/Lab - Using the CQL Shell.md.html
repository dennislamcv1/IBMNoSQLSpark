<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@10.7.1/styles/default.min.css">
  </head>
  <body>
    <h1>Hands-on Lab: Using the CQL Shell (cqlsh)</h1>
    <center>
      <img src="https://gitlab.com/ibm/skills-network/courses/placeholder101/-/raw/master/labs/module%201/images/IDSNlogo.png" width="200" alt="skillsnetwork.ai logo">
    </center>
    <p>Estimated time needed: <strong>20</strong> minutes</p>
    <h2>Objectives</h2>
    <p>After completing this lab you will be able to:</p>
    <ul>
      <li>Start cassandra server on the Skills Network Cloud IDE (Theia).</li>
      <li>Connect to cassandra using cqlsh.</li>
      <li>Run simple commands.</li>
      <li>Disconnect from cassandra server.</li>
    </ul>
    <h1>About This SN Labs Cloud IDE</h1>
    <p>This Skills Network Labs Cloud IDE provides a hands-on environment for course and project related labs. It utilizes Theia, an open-source IDE (Integrated Development Environment) platform, that can be run on desktop or on the cloud. To complete this lab, we will be using the Cloud IDE based on Theia and Cassandra running in a Docker container.</p>
    <h2>Important Notice about this lab environment</h2>
    <p>Please be aware that sessions for this lab environment are not persisted. Every time you connect to this lab, a new environment is created for you. Any data you may have saved in the earlier session would get lost. Plan to complete these labs in a single session, to avoid losing your data.</p>
    <h1>Exercise 1 - Start cassandra server</h1>
    <p>Open a new terminal, by selecting <strong>Terminal</strong>-><strong>New Terminal</strong> from the menu bar, as in the image below.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0151EN-SkillsNetwork/labs/Cassandra/images/new-terminal.png" alt="">
    </p>
    <p>This will open a new terminal at the bottom of the screen as in the image below.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0151EN-SkillsNetwork/labs/Cassandra/images/terminal_bottom_screen.png" alt="">
    </p>
    <p>Run the below command on the newly opened terminal. (You can copy the code by clicking on the little copy button on the bottom right of the codeblock below and then paste it, wherever you wish.)</p>
    <pre><code class="hljs language-ebnf"><span class="hljs-attribute">start_cassandra</span>
</code></pre>
    <p></p>
    <p>This will start the cassandra server. It will also give you the command to connect to your instance of cassandra, as in the image below.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0151EN-SkillsNetwork/labs/Cassandra/images/cassandra_command_line.png" alt="">
      The command will look similar to the one given below.
    </p>
    <pre><code class="hljs language-apache"><span class="hljs-attribute">cqlsh</span> --username cassandra --password MTg<span class="hljs-number">3</span>MzMtcnNhbm<span class="hljs-number">5</span>h
</code></pre>
    <p></p>
    <p>The command contains the username and password to connect to cassandra server. Your output would be different from the one shown above. Copy the command given to you, and keep it handy. You will need it in the next step.</p>
    <h1>Exercise 2 - Connect to cassandra server</h1>
    <p>On the terminal paste or type the command you copied in the previous step, as in the image below.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0151EN-SkillsNetwork/labs/Cassandra/images/cqlsh_connect.png" alt="">
    </p>
    <p>You should now get connected to the cassandra server, and see an output as in the figure below.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0151EN-SkillsNetwork/labs/Cassandra/images/cqlsh.png" alt="">
    </p>
    <h1>Exercise 3 - Find host details</h1>
    <p>On the cqlsh run the below command.</p>
    <pre><code class="hljs language-dart"><span class="hljs-keyword">show</span> host

</code></pre>
    <p></p>
    <p>This will show the details of the server you have connected to.</p>
    <h1>Exercise 4 - Find the version of the server</h1>
    <p>On the cqlsh run the below command.</p>
    <pre><code class="hljs language-pgsql"><span class="hljs-keyword">show</span> <span class="hljs-keyword">version</span>

</code></pre>
    <p></p>
    <p>This will show the version of the cassandra server.</p>
    <h1>Exercise 5 - List keyspaces</h1>
    <p>On the cqlsh run the below command.</p>
    <pre><code class="hljs language-ebnf"><span class="hljs-attribute">describe keyspaces</span>

</code></pre>
    <p></p>
    <p>This will print a list of the keyspaces present on the server.</p>
    <h1>Exercise 6 - Clear the screen</h1>
    <p>On the cqlsh run the below command.</p>
    <pre><code class="hljs language-avrasm"><span class="hljs-keyword">cls</span>

</code></pre>
    <p></p>
    <p>This will clear the cqlsh screen.</p>
    <h1>Exercise 7 - Disconnect from cassandra server</h1>
    <p>On the cqlsh run the below command.</p>
    <pre><code class="hljs language-awk"><span class="hljs-keyword">exit</span>

</code></pre>
    <p></p>
    <h1>Practice exercises</h1>
    <ol>
      <li>Problem:</li>
    </ol>
    <blockquote>
      <p><em>Start the cassandra server.</em></p>
    </blockquote>
    <details>
      <summary>Click here for Hint</summary>
      <blockquote>
        <p>Use the 'start_cassandra' command.</p>
      </blockquote>
    </details>
    <details>
      <summary>Click here for Solution</summary>
      <pre><code class="hljs language-ebnf"><span class="hljs-attribute">start_cassandra</span>

</code></pre>
      <p></p>
    </details>
    <ol start="2">
      <li>Problem:</li>
    </ol>
    <blockquote>
      <p><em>Connect to cassandra server.</em></p>
    </blockquote>
    <details>
      <summary>Click here for Hint</summary>
      <blockquote>
        <p>Use the 'cqlsh' command with correct username and password.</p>
      </blockquote>
    </details>
    <details>
      <summary>Click here for Solution</summary>Use the below command with the user name and password generated on your terminal window, when you started the cassandra server using start_cassandra command.
      <pre><code class="hljs language-apache"><span class="hljs-attribute">cqlsh</span> --username cassandra --password MTg<span class="hljs-number">3</span>MzMtcnNhbm<span class="hljs-number">5</span>h

</code></pre>
      <p></p>
    </details>
    <ol start="3">
      <li>Problem:</li>
    </ol>
    <blockquote>
      <p><em>Find the version of the server.</em></p>
    </blockquote>
    <details>
      <summary>Click here for Hint</summary>
      <blockquote>
        <p>Use the 'show' command.</p>
      </blockquote>
    </details>
    <details>
      <summary>Click here for Solution</summary>
      <pre><code class="hljs language-pgsql"><span class="hljs-keyword">show</span> <span class="hljs-keyword">version</span>

</code></pre>
      <p></p>
    </details>
    <ol start="4">
      <li>Problem:</li>
    </ol>
    <blockquote>
      <p><em>Find the host details.</em></p>
    </blockquote>
    <details>
      <summary>Click here for Hint</summary>
      <blockquote>
        <p>Use the 'show' command with the host option.</p>
      </blockquote>
    </details>
    <details>
      <summary>Click here for Solution</summary>
      <pre><code class="hljs language-dart"><span class="hljs-keyword">show</span> host

</code></pre>
      <p></p>
    </details>
    <ol start="5">
      <li>Problem:</li>
    </ol>
    <blockquote>
      <p><em>Show keyspaces.</em></p>
    </blockquote>
    <details>
      <summary>Click here for Hint</summary>
      <blockquote>
        <p>Use the 'describe' command with the keyspaces option.</p>
      </blockquote>
    </details>
    <details>
      <summary>Click here for Solution</summary>
      <pre><code class="hljs language-ebnf"><span class="hljs-attribute">describe keyspaces</span>

</code></pre>
      <p></p>
    </details>
    <ol start="5">
      <li>Problem:</li>
    </ol>
    <blockquote>
      <p><em>Disconnect from the server.</em></p>
    </blockquote>
    <details>
      <summary>Click here for Hint</summary>
      <blockquote>
        <p>exit</p>
      </blockquote>
    </details>
    <details>
      <summary>Click here for Solution</summary>
      <pre><code class="hljs language-awk"><span class="hljs-keyword">exit</span>

</code></pre>
      <p></p>
    </details>
    <h2>Authors</h2>
    <p>Ramesh Sannareddy</p>
    <h3>Other Contributors</h3>
    <p>Rav Ahuja</p>
    <h2>Change Log</h2>
    <table>
      <thead>
        <tr>
          <th>Date (YYYY-MM-DD)</th>
          <th>Version</th>
          <th>Changed By</th>
          <th>Change Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2021-04-20</td>
          <td>0.2</td>
          <td>Steve Ryan</td>
          <td>Review pass</td>
        </tr>
        <tr>
          <td>2021-03-22</td>
          <td>0.1</td>
          <td>Ramesh Sannareddy</td>
          <td>Created initial version of the lab</td>
        </tr>
      </tbody>
    </table>
    <p>Copyright (c) 2021 IBM Corporation. All rights reserved.</p>
    <script>window.addEventListener('load', function() {
snFaculty.inject();
});</script>
    <script src="https://skills-network-assets.s3.us.cloud-object-storage.appdomain.cloud/scripts/inject.43989f87.js"></script>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.1/highlight.min.js"></script>
    <script src="https://unpkg.com/highlightjs-badge@0.1.9/highlightjs-badge.min.js"></script>
  </body>
</html>
